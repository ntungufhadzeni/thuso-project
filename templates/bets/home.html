{% extends 'base.html' %}
{% block title %} Football Betting {% endblock %}
{% block content %}
    {% if unique_countries %}
    <form method="post">
        {% csrf_token %}
        <label for="country_select">Select a country to filter by:</label>
        <select name="selected_country" id="country_select">
            {% for country in unique_countries %}
                <option value="{{ country }}" {% if country == selected_country %}selected{% endif %}>{{ country }}</option>
            {% endfor %}
        </select>
        <button type="submit">Filter</button>
    </form>

    <h2>{{ selected_country }}</h2>
    <ul>
        {% for item in result_list %}
            <caption>{{ item.league }}</caption>
            <ul>
                {% for match in item.matches %}
                    <table>
                        <thead>
                            <tr>
                                <th><!-- Intentionally Blank --></th>
                                <th>Home</th>
                                <th>Away</th>
                                <th><!-- Intentionally Blank --></th>
                                <th>Info</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>Team</th>
                                <td>{{ match.home_team }}</td>
                                <td>{{ match.away_team }}</td>
                                <th>Time</th>
                                <td> {{ match.match_time }} </td>
                            </tr>
                            <tr>
                                <th>Form</th>
                                <td>{{ match.home_team_form }}</td>
                                <td>{{ match.home_team_form }}</td>
                                <th>Tip</th>
                                <td>{{ match.bet }} </td>
                            </tr>
                            <tr>
                                <th>Log</th>
                                <td>{{ match.home_team_pos }}</td>
                                <td>{{ match.away_team_pos }}</td>
                                <th>Probability</th>
                                <td>{{ match.prob }} </td>
                            </tr>
                        </tbody>
                    </table>
                {% endfor %}
            </ul>
        {% endfor %}
    </ul>
    {% else %}
        <h2>No data</h2>
    {% endif %}
{% endblock %}
